<div class="container">
    <button
        class="button"
        mat-flat-button
        color="primary"
        (click)="this.showNewTransportForm = true"
    >
        Add new
    </button>
    <div class="transports-container">
        @if(this.showNewTransportForm) {
        <mat-card class="add-transport-card" appearance="outlined">
            <mat-card-content class="card">
                <mat-form-field class="input">
                    <mat-label>Brand</mat-label>
                    <input matInput [(ngModel)]="this.newTransport.brand" />
                </mat-form-field>
                <mat-form-field class="input">
                    <mat-label>Model</mat-label>
                    <input matInput [(ngModel)]="this.newTransport.model" />
                </mat-form-field>
                <mat-form-field class="input">
                    <mat-label>Year</mat-label>
                    <input
                        type="number"
                        matInput
                        [(ngModel)]="this.newTransport.year"
                    />
                </mat-form-field>
                <mat-form-field>
                    <mat-label>Location</mat-label>
                    <input
                        type="text"
                        aria-label="Number"
                        matInput
                        [formControl]="myControl"
                        [matAutocomplete]="auto"
                    />
                    <mat-autocomplete
                        autoActiveFirstOption
                        #auto="matAutocomplete"
                    >
                        @for (option of filteredOptions | async; track option) {
                        <mat-option [value]="option">{{ option }}</mat-option>
                        }
                    </mat-autocomplete>
                </mat-form-field>
                <mat-form-field class="input">
                    <mat-label>Address</mat-label>
                    <input matInput [(ngModel)]="this.newTransport.address" />
                </mat-form-field>
                <mat-form-field class="input">
                    <mat-label>Description</mat-label>
                    <textarea
                        matInput
                        maxlength="500"
                        [(ngModel)]="this.newTransport.description"
                    ></textarea>
                    <mat-hint align="end"
                        >{{ this.newTransport.description.length }} /
                        500</mat-hint
                    >
                </mat-form-field>
            </mat-card-content>
            <mat-card-actions>
                <button
                    mat-button
                    [disabled]="disableSaveButton"
                    (click)="createTransportClick()"
                >
                    Save
                </button>
                <button mat-button (click)="this.showNewTransportForm = false">
                    Cancel
                </button>
            </mat-card-actions>
        </mat-card>
        }
    </div>
</div>
